import { Constructor } from '@mikro-orm/core';
import { EntityManager } from '@mikro-orm/knex';
import { Migration } from './Migration';
import { MigrationStorage } from './MigrationStorage';
import { MigrateOptions, MigrationResult, MigrationRow, UmzugMigration } from './typings';
export declare class Migrator {
    private readonly em;
    private readonly umzug;
    private readonly driver;
    private readonly schemaGenerator;
    private readonly config;
    private readonly options;
    private readonly runner;
    private readonly generator;
    private readonly storage;
    constructor(em: EntityManager);
    createMigration(path?: string, blank?: boolean, initial?: boolean): Promise<MigrationResult>;
    validateInitialMigration(): Promise<void>;
    getExecutedMigrations(): Promise<MigrationRow[]>;
    getPendingMigrations(): Promise<UmzugMigration[]>;
    up(options?: string | string[] | MigrateOptions): Promise<UmzugMigration[]>;
    down(options?: string | string[] | MigrateOptions): Promise<UmzugMigration[]>;
    getStorage(): MigrationStorage;
    protected resolve(file: string): {
        name: string | undefined;
        up: () => Promise<void>;
        down: () => Promise<void>;
    };
    protected initialize(MigrationClass: Constructor<Migration>, name?: string): {
        name: string | undefined;
        up: () => Promise<void>;
        down: () => Promise<void>;
    };
    private getSchemaDiff;
    private prefix;
    private runMigrations;
}
