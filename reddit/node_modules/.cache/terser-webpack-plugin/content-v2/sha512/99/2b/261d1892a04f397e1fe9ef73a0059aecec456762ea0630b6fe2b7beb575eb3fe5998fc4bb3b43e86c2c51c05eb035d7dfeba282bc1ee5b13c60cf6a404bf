{"code":"!function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:i})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var n in e)t.d(i,n,function(t){return e[t]}.bind(null,n));return i},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=1)}([function(e,t,r){e.exports=r(2)},function(e,t,r){\"use strict\";r.r(t);var i=r(0),n=r.n(i);console.log(n.a)},function(e){e.exports=function(e){const t=e.Store,r=()=>{};return class extends t{constructor(e={}){if(super(e),!e.client)throw new Error(\"A client must be directly provided to the RedisStore\");this.prefix=null==e.prefix?\"sess:\":e.prefix,this.scanCount=+e.scanCount||100,this.serializer=e.serializer||JSON,this.client=e.client,this.ttl=e.ttl||86400,this.disableTouch=e.disableTouch||!1}get(e,t=r){let i=this.prefix+e;this.client.get(i,(e,r)=>{if(e)return t(e);if(!r)return t();let i;try{i=this.serializer.parse(r)}catch(e){return t(e)}return t(null,i)})}set(e,t,i=r){let n,s=[this.prefix+e];try{n=this.serializer.stringify(t)}catch(e){return i(e)}s.push(n),s.push(\"EX\",this._getTTL(t)),this.client.set(s,i)}touch(e,t,i=r){if(this.disableTouch)return i();let n=this.prefix+e;this.client.expire(n,this._getTTL(t),(e,t)=>e?i(e):1===t?void i(null,\"OK\"):i(null,\"EXPIRED\"))}destroy(e,t=r){let i=this.prefix+e;this.client.del(i,t)}clear(e=r){this._getAllKeys((t,r)=>t?e(t):void this.client.del(r,e))}length(e=r){this._getAllKeys((t,r)=>t?e(t):e(null,r.length))}ids(e=r){let t=this.prefix.length;this._getAllKeys((r,i)=>r?e(r):(i=i.map(e=>e.substr(t)),e(null,i)))}all(e=r){let t=this.prefix.length;this._getAllKeys((r,i)=>r?e(r):0===i.length?e(null,[]):void this.client.mget(i,(r,n)=>{if(r)return e(r);let s;try{s=n.reduce((e,r,n)=>r?((r=this.serializer.parse(r)).id=i[n].substr(t),e.push(r),e):e,[])}catch(e){r=e}return e(r,s)}))}_getTTL(e){let t;if(e&&e.cookie&&e.cookie.expires){let r=+new Date(e.cookie.expires)-Date.now();t=Math.ceil(r/1e3)}else t=this.ttl;return t}_getAllKeys(e=r){let t=this.prefix+\"*\";this._scanKeys({},0,t,this.scanCount,e)}_scanKeys(e={},t,i,n,s=r){this.client.scan([t,\"match\",i,\"count\",n],(t,r)=>{if(t)return s(t);let[l,o]=r;for(let t of o)e[t]=!0;return 0==+l?void s(null,Object.keys(e)):this._scanKeys(e,l,i,n,s)})}}}}]);","extractedComments":[]}